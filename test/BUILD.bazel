load("//bazel:flags.bzl", "CPP_FLAGS", "MAPLIBRE_FLAGS")

cc_library(
    name = "testlib",
    hdrs = [
        "include/mbgl/test/util.hpp",
    ],
    strip_include_prefix = "include",
)

cc_test(
    name = "core",
    srcs = [
        "actor/actor.test.cpp",
        "actor/actor_ref.test.cpp",
    ],
    copts = CPP_FLAGS + MAPLIBRE_FLAGS,
    deps = [
        "testlib",
        "//:mbgl-core",
        "//platform/linux:impl",
        "//vendor/googletest:gtest_main",
    ],
)
